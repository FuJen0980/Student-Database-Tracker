<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Student</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body class="p-3 mb-2 bg-light text-dark">
    <div class="row justify-content-center">
        <div class="col-md-4">
            <h1 class="text-center mt-5 mb-4">Edit Student</h1>
            <form id = "studentForm" th:action="@{/students/{uid}(uid=${student.uid})}" th:object="${student}" method = "POST">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="nameInput" placeholder="Student Name" name="name" th:field="*{name}">
                    <label for="floatingInput">Student Name</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="weightInput" placeholder="Weight" step="any" name="weight" th:field="*{weight}">
                    <label for="floatingInput">Weight</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="heightInput" placeholder="Height" step="any" name="height" th:field="*{height}">
                    <label for="floatingInput">Height</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="haircolorInput" placeholder="Haircolor" name="haircolor" th:field="*{haircolor}">
                    <label for="floatingInput">Haircolor</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="gpaInput" placeholder="Gpa" step="any" name="gpa" th:field="*{gpa}">
                    <label for="floatingInput">GPA</label>
                </div>
                <div class="d-grid gap-2">
                    <button type ="submit" class="btn btn-danger" id="submitButton">Save</button>
                </div>
            </form>
            <p id="errorText" class="error-message"></p>
        </div>
    </div>
    <script>
        var submitButton = document.getElementById('submitButton');
        var errorText = document.getElementById('errorText');
        submitButton.addEventListener('click',function(evt) {
            var name = document.getElementById('nameInput').value;
            var weight = document.getElementById('weightInput').value;
            var height = document.getElementById('heightInput').value;
            var haircolor = document.getElementById('haircolorInput').value;
            var gpa = document.getElementById('gpaInput').value;
            if(name==='' || weight.trim()==='' || height.trim()==='' || haircolor.trim()==='' || gpa.trim()==='') {
                evt.preventDefault();
                errorText.textContent = "Please fill in all fields";
            }
        })
    </script>
</body>
</html>